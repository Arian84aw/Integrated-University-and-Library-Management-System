<div dir="rtl" align="right">

## آرین واحدزادگان 40233053
## مستندات پروژه پایگاه داده

لینک فیلم توضیحات : https://drive.google.com/file/d/1fSD21LnvjNmqMz7HiGyPH070p1a4Q-x5/view?usp=sharing

این پروژه شامل دو پایگاه داده مجزا برای مدیریت امور آموزشی و کتابخانه یک دانشگاه است.

## پایگاه داده آموزش (Education)

### شما (Schema)

| جدول | توضیحات |
| :--- | :--- |
| `Person` | اطلاعات شخصی افراد (دانشجویان، اساتید، کتابداران) |
| `Student` | اطلاعات تکمیلی دانشجویان |
| `Instructor` | اطلاعات تکمیلی اساتید |
| `Course` | اطلاعات دروس |
| `Section` | اطلاعات گروه‌های درسی ارائه‌شده در هر ترم |
| `Takes` | اطلاعات ثبت‌نام دانشجویان در گروه‌های درسی |
| `Department` | اطلاعات دانشکده‌ها |
| `Major` | اطلاعات رشته‌های تحصیلی |
| `Building` | اطلاعات ساختمان‌ها |
| `Classroom` | اطلاعات کلاس‌های درس |
| `TimeSlot` | اطلاعات بازه‌های زمانی کلاس‌ها |
| `MajorChart` | چارت تحصیلی هر رشته |
| `SuggestTerm` | دروس پیشنهادی برای هر ترم در چارت |
| `Prereq` | اطلاعات پیش‌نیازهای دروس |
| `Log` | ثبت رویدادهای مهم سیستم |

### توابع (Functions)

| Function | توضیحات |
| :--- | :--- |
| `createLibraryID` | ایجاد شناسه یکتا برای حساب کتابخانه بر اساس سال ورود، شناسه رشته و شناسه فرد|
| `has_passed_prereqs` | بررسی می‌کند که آیا یک دانشجو پیش‌نیازهای یک درس خاص را گذرانده است یا خیر|
| `get_current_term` | محاسبه ترم تحصیلی فعلی دانشجو بر اساس تاریخ ورود|
| `SuggestCoursesForStudent` | پیشنهاد دروس قابل اخذ برای دانشجو در یک ترم مشخص|
| `validateNationalCode` | اعتبارسنجی کد ملی|
| `TermGPA` | محاسبه معدل یک ترم خاص برای دانشجو|
| `totalGPA` | محاسبه معدل کل دانشجو|
| `Weeklyschedule` | نمایش برنامه هفتگی دانشجو|
| `TermTranscript` | نمایش کارنامه یک ترم خاص دانشجو|
| `hasPassed` | نمایش دروسی که دانشجو با وضعیت مشخص (گذرانده، رد شده، در حال گذراندن) دارد|
| `total_passedcredit` | محاسبه مجموع واحدهای گذرانده دانشجو|
| `CheckTimeConflict` | بررسی تداخل زمانی هنگام انتخاب واحد|
| `isSectionInCurrentTerm` | بررسی می‌کند که آیا یک گروه درسی در ترم جاری ارائه شده است یا خیر|

### رویه‌ها (Procedures)

| Procedure | توضیحات |
| :--- | :--- |
| `*add` | رویه‌هایی برای افزودن رکورد جدید به جداول مختلف (مانند `addPerson`, `addCourse`, `addSection` و ...)|
| `AssignAdvisor` | اختصاص استاد مشاور به دانشجو|
| `updateStudentGrade` | ثبت یا به‌روزرسانی نمره دانشجو در یک درس|
| `deactivatePerson` | غیرفعال کردن یک شخص در سیستم|
| `takeSection` | ثبت‌نام دانشجو در یک گروه درسی (انتخاب واحد)|
| `dropSection` | حذف یک درس اخذ شده توسط دانشجو (حذف و اضافه)|
| `autoTakeSection` | انتخاب واحد خودکار برای دانشجویان بر اساس دروس پیشنهادی|
| `autoFillGrade` | ثبت نمرات تصادفی برای دانشجویانی که وضعیت "در حال گذراندن" دارند|

### تریگرها (Triggers)

| Trigger | توضیحات |
| :--- | :--- |
| `*trgLog` | تریگرهایی برای ثبت رویدادهای مختلف (مانند `trgLogPerson`, `trgLogCourse`) در جدول `Log`|
| `trgAfterAddPerson` | پس از افزودن یک شخص جدید، به طور خودکار حساب کتابخانه برای او ایجاد کرده و بر اساس نقش، او را در جدول دانشجویان یا اساتید نیز اضافه می‌کند|
| `checkGraduation` | پس از هر بار ثبت نمره، وضعیت فارغ‌التحصیلی دانشجو را بررسی می‌کند و در صورت احراز شرایط، او را غیرفعال می‌کند|
| `trgDeactivatePerson` | در صورت غیرفعال شدن یک شخص در پایگاه داده آموزش، حساب کتابخانه او نیز غیرفعال می‌شود|

## پایگاه داده کتابخانه (Library)

### شما (Schema)

| جدول | توضیحات |
| :--- | :--- |
| `Account` | اطلاعات حساب کاربری اعضای کتابخانه|
| `Books` | اطلاعات کلی کتاب‌ها|
| `BooksAvailable` | اطلاعات نسخه‌های مختلف هر کتاب (چاپ، ناشر، تعداد موجود)|
| `Category` | دسته‌بندی کتاب‌ها|
| `Publisher` | اطلاعات ناشران|
| `BorrowRecords` | سوابق امانت کتاب‌ها|
| `Fines` | اطلاعات جریمه‌های دیرکرد|
| `Librarian` | اطلاعات کتابداران|
| `ShelfLocation` | اطلاعات مکان فیزیکی هر نسخه از کتاب در قفسه‌ها|
| `Log` | ثبت رویدادهای مهم سیستم کتابخانه|

### توابع (Functions)

| Function | توضیحات |
| :--- | :--- |
| `showAllBooksEdition` | نمایش تمام نسخه‌های موجود کتاب‌ها به همراه اطلاعات کامل|
| `getAccID` | دریافت شناسه حساب کتابخانه بر اساس شناسه دانشجو|
| `getTotalFineByStuID` | محاسبه مجموع جریمه‌های پرداخت‌نشده یک دانشجو|
| `getBorrowHistory` | نمایش تاریخچه امانت‌های یک عضو|
| `GetRecommendedBooks` | پیشنهاد کتاب به دانشجو بر اساس سابقه امانت سایر دانشجویان با سلیقه مشابه|
| `GetBookLocation` | یافتن مکان فیزیکی یک نسخه خاص از کتاب|

### رویه‌ها (Procedures)

| Procedure | توضیحات |
| :--- | :--- |
| `*add` | رویه‌هایی برای افزودن رکورد جدید به جداول مختلف (مانند `addPublisher`, `addCategory`, `addBooks` و ...)|
| `borrowBook` | ثبت فرآیند امانت گرفتن کتاب توسط یک عضو|
| `returnBook` | ثبت فرآیند بازگرداندن کتاب|
| `setNewFine` | ثبت جریمه جدید برای یک عضو|
| `*payFines` | رویه‌هایی برای پرداخت جریمه‌ها|
| `extendDueDate` | تمدید مهلت بازگشت کتاب|

### تریگرها (Triggers)

| Trigger | توضیحات |
| :--- | :--- |
| `trgReturnBook` | پس از بازگرداندن کتاب، در صورت دیرکرد جریمه ثبت کرده و در صورت بالا بودن بدهی، حساب را غیرفعال می‌کند|
| `trgLimitBorrow` | محدود کردن تعداد کتاب‌هایی که یک عضو می‌تواند به طور همزمان به امانت ببرد (حداکثر ۳ کتاب)|
| `*trgLog` | تریگرهایی برای ثبت رویدادهای مختلف در جدول `Log` کتابخانه|
| `trgReactivateAccountOnFinePayment` | در صورتی که عضو جریمه خود را پرداخت کند و مجموع بدهی او از سقف مجاز کمتر شود، حساب او به طور خودکار فعال می‌شود|

## فایل‌های پروژه

*   `Education DDL.sql`: دستورات `CREATE TABLE` برای پایگاه داده آموزش
*   `Library DDL.sql`: دستورات `CREATE TABLE` برای پایگاه داده کتابخانه
*   `Education Functions.sql`: کدهای ایجاد توابع پایگاه داده آموزش
*   `Library Functions.sql`: کدهای ایجاد توابع پایگاه داده کتابخانه
*   `Education Procedures.sql`: کدهای ایجاد رویه‌های ذخیره‌شده پایگاه داده آموزش
*   `Library Procedures.sql`: کدهای ایجاد رویه‌های ذخیره‌شده پایگاه داده کتابخانه
*   `Education Triggers.sql`: کدهای ایجاد تریگرهای پایگاه داده آموزش
*   `Library Triggers.sql`: کدهای ایجاد تریگرهای پایگاه داده کتابخانه
*   `data sample.sql`: نمونه داده‌هایی برای تست و نمایش عملکرد سیستم
*   `login and users.sql`: عملکرد واجرای سطح دسترسی
</div>